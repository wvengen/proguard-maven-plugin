<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.11.1 from src\site\apt/index.apt at 2025-03-30

 | Rendered using Apache Maven Default Skin
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="generator" content="Apache Maven Doxia Site Renderer 1.11.1" />
    <title>Maven proguard Plug-In &#x2013; Overview</title>
    <link rel="stylesheet" href="./css/maven-base.css" />
    <link rel="stylesheet" href="./css/maven-theme.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />
  </head>
  <body class="composite">
    <div id="banner">
<div id="bannerLeft">proguard-maven-plugin
</div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
      <div class="xleft">
        <span id="publishDate">Last Published: 2025-03-30</span>
           | <span id="projectVersion">Version: 2.6.1</span>
      </div>
      <div class="xright">      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
       <h5>Maven proguard Quickstart</h5>
    <ul>
     <li class="none"><strong>Introduction</strong></li>
     <li class="none"><a href="plugin-info.html" title="Plugin Goals">Plugin Goals</a></li>
    </ul>
       <h5>Project Documentation</h5>
    <ul>
     <li class="collapsed"><a href="project-info.html" title="Project Information">Project Information</a></li>
    </ul>
      <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="poweredBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
      </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
<section>
<h2><a name="proguard-maven-plugin"></a>proguard-maven-plugin</h2><section>
<h3><a name="Overview"></a>Overview</h3>
<p>The proguard-maven-plugin is maven2 plugin to execute <a class="externalLink" href="http://proguard.sourceforge.net/">ProGuard</a></p></section><section>
<h3><a name="Parameters"></a>Parameters</h3>
<p>Regular <a href="#proguard-mojo.html">proguard:proguard parameters</a></p>
<ul>
<li><code>libs</code> JVM libraries usually not in dependency list
<div>
<pre>    &lt;libs&gt;
        &lt;lib&gt;${java.home}/lib/rt.jar&lt;/lib&gt;
        &lt;lib&gt;${java.home}/lib/jsse.jar&lt;/lib&gt;
    &lt;/libs&gt;
</pre></div></li>
<li>You can use <code>inFilter</code> to apply ProGuard <a class="externalLink" href="http://proguard.sourceforge.net/manual/usage.html#filters">classpathentry Filters</a> to input jar
<div>
<pre>    &lt;inFilter&gt;!org/microemu/app/classloader/**&lt;/inFilter&gt;
</pre></div></li>
<li>You can use <code>inLibsFilter</code> to apply ProGuard <a class="externalLink" href="http://proguard.sourceforge.net/manual/usage.html#filters">classpathentry Filters</a> to all input lib jars
<div>
<pre>    &lt;inLibsFilter&gt;!META-INF/versions/**&lt;/inLibsFilter&gt;
</pre></div></li>
<li>You can use <code>outFilter</code> to apply ProGuard <a class="externalLink" href="http://proguard.sourceforge.net/manual/usage.html#filters">classpathentry Filters</a> to output jar
<div>
<pre>    &lt;outFilter&gt;!**ECLIPSEF.*&lt;/outFilter&gt;
</pre></div></li>
<li><code>exclusions</code> allow fine grain filter for dependency if includeDependency is enabled
<div>
<pre>    &lt;exclusions&gt;
        &lt;exclusion&gt;
            &lt;groupId&gt;org.grp&lt;/groupId&gt;&lt;artifactId&gt;art1&lt;/artifactId&gt;
        &lt;/exclusion&gt;
        &lt;exclusion&gt;
            &lt;!-- org.grp:art2 without classifier will still be included --&gt;
            &lt;groupId&gt;org.grp&lt;/groupId&gt;&lt;artifactId&gt;art2&lt;/artifactId&gt;&lt;classifier&gt;app&lt;classifier&gt;
        &lt;/exclusion&gt;
    &lt;/exclusions&gt;
</pre></div></li>
<li><code>assembly</code> allows to bundle project dependency to resulting jar with different options e.g. -injars ProGuard args. Some flagged as <code>library</code> doesn`t need to be processed by ProGuard are added as -libraryjars and added to resulting jar by plugin after ProGuard is finished. For clarity param <code>includeDependency</code> will just add -libraryjars arg to ProGuard and Dependency is not included in resulting jar.
<p>You can use <code>assembly</code> to apply ProGuard <a class="externalLink" href="http://proguard.sourceforge.net/manual/usage.html#filters">classpathentry Filters</a> to dependency jars</p>
<div>
<pre>    &lt;assembly&gt;
        &lt;inclusions&gt;
            &lt;inclusion&gt;
                &lt;!-- add jar already prepossessed with different options --&gt;
                &lt;groupId&gt;org.microemu&lt;/groupId&gt;&lt;artifactId&gt;microemu-cldc&lt;/artifactId&gt;&lt;classifier&gt;4applet&lt;/classifier&gt;&lt;library&gt;true&lt;/library&gt;
                &lt;!-- filter will not apply --&gt;
            &lt;/inclusion&gt;
            &lt;inclusion&gt;
                &lt;!-- filter out some classes see ProGuard classpathentry Filters --&gt;
                &lt;groupId&gt;org.microemu&lt;/groupId&gt;&lt;artifactId&gt;microemu-javase&lt;/artifactId&gt;
                &lt;filter&gt;!org/microemu/app/classloader/**&lt;/filter&gt;
            &lt;/inclusion&gt;
            &lt;inclusion&gt;
                &lt;groupId&gt;org.microemu&lt;/groupId&gt;&lt;artifactId&gt;microemu-javase-swing&lt;/artifactId&gt;
            &lt;/inclusion&gt;
            &lt;!-- groupId and artifactId support wildcards, including partial matching --&gt;
            &lt;!-- include all org.thirdparty artifacts --&gt;
            &lt;inclusion&gt;
                &lt;groupId&gt;org.thirdparty&lt;/groupId&gt;&lt;artifactId&gt;*&lt;/artifactId&gt;
            &lt;/inclusion&gt;
        &lt;/inclusions&gt;
    &lt;/assembly&gt;
    &lt;exclusions&gt;
        &lt;!-- groupId and artifactId support wildcards, including partial matching --&gt;
        &lt;!-- exclude all org.thirdparty1 artifacts --&gt;
        &lt;exclusion&gt;
            &lt;groupId&gt;org.thirdparty1&lt;/groupId&gt;&lt;artifactId&gt;*&lt;/artifactId&gt;
        &lt;/exclusion&gt;
        &lt;!-- exclude all org.thirdparty2 artifacts beginning with 'util.' --&gt;
        &lt;exclusion&gt;
            &lt;groupId&gt;org.thirdparty2&lt;/groupId&gt;&lt;artifactId&gt;util.*&lt;/artifactId&gt;
        &lt;/exclusion&gt;
        &lt;!-- exclude all artifacts ending with '-macos' --&gt;
        &lt;exclusion&gt;
            &lt;groupId&gt;*&lt;/groupId&gt;&lt;artifactId&gt;*-macos&lt;/artifactId&gt;
        &lt;/exclusion&gt;
    &lt;/exclusions&gt;
</pre></div></li>
<li>ProGuard <code>options</code>
<p>Some ProGuard options are created automatically</p>
<ul>
<li><code>-dontobfuscate</code> When obfuscate is false</li>
<li><code>-libraryjars</code> Are created based on <code>libs</code> and your project dependencies when includeDependency is true (by default).</li>
<li><code>-verbose</code> When executing <code>maven -X</code></li>
<li><code>-printmapping</code> is based on the <code>mappingFileName</code> set in the configuration, defaults to '$<a name="project.build.directory">project.build.directory</a>/<i>&lt;mappingFileName&gt;</i>', while <code>-printseeds</code> is based on <code>seedFileName</code> and defaults to '$<a name="project.build.directory">project.build.directory</a>/<i>&lt;seedFileName&gt;</i>'</li></ul>
<p>Additional ProGuard configuration can be added using <a href="#proguard-mojo.htmloptions">options</a> or <a href="#proguard-mojo.htmlproguardInclude">proguardInclude</a></p></li>
<li>Command line length workaround
<p>If you have a huge list of dependencies the list of <code>-libraryjars</code> the resulting command line to execute ProGaurd could become too long. On Windows the error message could look like <code>CreateProcess error=206, The filename or extension is too long</code>.</p>
<ul>
<li><code> &lt;generateTemporaryConfigurationFile&gt;true&lt;/generateTemporaryConfigurationFile&gt; </code> makes the plugin pass the configuration by a temporary file instead of over the command line. Build performance should not be impacted by this.</li></ul></li></ul></section><section>
<h3><a name="Usage"></a>Usage</h3>
<p>Replace project artifact with obfuscated one. Original jar would be preserved in file project.build.finalName.jar_proguard_base.jar</p>
<div>
<pre>    &lt;build&gt;
        &lt;plugins&gt;
            &lt;plugin&gt;
                &lt;groupId&gt;com.github.wvengen&lt;/groupId&gt;
                &lt;artifactId&gt;proguard-maven-plugin&lt;/artifactId&gt;
                &lt;executions&gt;
                   &lt;execution&gt;
                       &lt;phase&gt;package&lt;/phase&gt;
                       &lt;goals&gt;&lt;goal&gt;proguard&lt;/goal&gt;&lt;/goals&gt;
                   &lt;/execution&gt;
                &lt;/executions&gt;
                &lt;configuration&gt;
                    &lt;options&gt;
                        &lt;option&gt;-allowaccessmodification&lt;/option&gt;
                        &lt;option&gt;-keep public class * extends java.applet.Applet { *; }&lt;/option&gt;
                    &lt;/options&gt;
                    &lt;libs&gt;
                        &lt;lib&gt;${java.home}/lib/rt.jar&lt;/lib&gt;
                    &lt;/libs&gt;
                &lt;/configuration&gt;
            &lt;/plugin&gt;
        &lt;/plugins&gt;
    &lt;/build&gt;
</pre></div>
<p>Create new file $<a name="project.build.finalName">project.build.finalName</a>-small.jar</p>
<div>
<pre>    &lt;build&gt;
        &lt;plugins&gt;
            &lt;plugin&gt;
                &lt;groupId&gt;com.github.wvengen&lt;/groupId&gt;
                &lt;artifactId&gt;proguard-maven-plugin&lt;/artifactId&gt;
                &lt;executions&gt;
                   &lt;execution&gt;
                       &lt;phase&gt;package&lt;/phase&gt;
                       &lt;goals&gt;&lt;goal&gt;proguard&lt;/goal&gt;&lt;/goals&gt;
                   &lt;/execution&gt;
                &lt;/executions&gt;
                &lt;configuration&gt;
                    &lt;obfuscate&gt;true&lt;/obfuscate&gt;
                    &lt;injar&gt;${project.build.finalName}.jar&lt;/injar&gt;
                    &lt;outjar&gt;${project.build.finalName}-small.jar&lt;/outjar&gt;
                    &lt;outputDirectory&gt;${project.build.directory}&lt;/outputDirectory&gt;
                    &lt;proguardInclude&gt;${basedir}/proguard.conf&lt;/proguardInclude&gt;
                    &lt;libs&gt;
                        &lt;lib&gt;${java.home}/lib/rt.jar&lt;/lib&gt;
                        &lt;lib&gt;${java.home}/lib/jsse.jar&lt;/lib&gt;
                    &lt;/libs&gt;
                &lt;/configuration&gt;
            &lt;/plugin&gt;
        &lt;/plugins&gt;
    &lt;/build&gt;
</pre></div>
<p>Complex Applet creation example. See full <a class="externalLink" href="http://www.microemu.org/">MicroEmulator</a> project sources for more details</p>
<div>
<pre>
    &lt;dependencies&gt;

        &lt;dependency&gt;
            &lt;groupId&gt;org.microemu&lt;/groupId&gt;
            &lt;artifactId&gt;microemu-midp&lt;/artifactId&gt;
            &lt;version&gt;${version}&lt;/version&gt;
            &lt;classifier&gt;4applet&lt;/classifier&gt;
        &lt;/dependency&gt;

        &lt;dependency&gt;
            &lt;groupId&gt;org.microemu&lt;/groupId&gt;
            &lt;artifactId&gt;microemu-javase-swing&lt;/artifactId&gt;
            &lt;version&gt;${version}&lt;/version&gt;
        &lt;/dependency&gt;

        &lt;dependency&gt;
            &lt;groupId&gt;sun&lt;/groupId&gt;
            &lt;artifactId&gt;applet-jsobject&lt;/artifactId&gt;
            &lt;optional&gt;true&lt;/optional&gt;
        &lt;/dependency&gt;

    &lt;/dependencies&gt;

    &lt;build&gt;
        &lt;plugins&gt;

            &lt;plugin&gt;
                &lt;groupId&gt;com.github.wvengen&lt;/groupId&gt;
                &lt;artifactId&gt;proguard-maven-plugin&lt;/artifactId&gt;
                &lt;executions&gt;
                   &lt;execution&gt;
                       &lt;phase&gt;package&lt;/phase&gt;
                       &lt;goals&gt;&lt;goal&gt;proguard&lt;/goal&gt;&lt;/goals&gt;
                   &lt;/execution&gt;
                &lt;/executions&gt;
                &lt;configuration&gt;
                    &lt;proguardInclude&gt;${basedir}/proguard.conf&lt;/proguardInclude&gt;
                    &lt;assembly&gt;
                        &lt;inclusions&gt;
                            &lt;inclusion&gt;
                                &lt;groupId&gt;org.microemu&lt;/groupId&gt;&lt;artifactId&gt;microemu-cldc&lt;/artifactId&gt;&lt;classifier&gt;4applet&lt;/classifier&gt;&lt;library&gt;true&lt;/library&gt;
                            &lt;/inclusion&gt;
                            &lt;inclusion&gt;
                                &lt;groupId&gt;org.microemu&lt;/groupId&gt;&lt;artifactId&gt;microemu-midp&lt;/artifactId&gt;&lt;classifier&gt;4applet&lt;/classifier&gt;&lt;library&gt;true&lt;/library&gt;
                            &lt;/inclusion&gt;
                            &lt;inclusion&gt;
                                &lt;groupId&gt;org.microemu&lt;/groupId&gt;&lt;artifactId&gt;microemu-javase&lt;/artifactId&gt;
                                &lt;filter&gt;!org/microemu/app/classloader/**&lt;/filter&gt;
                            &lt;/inclusion&gt;
                            &lt;inclusion&gt;
                                &lt;groupId&gt;org.microemu&lt;/groupId&gt;&lt;artifactId&gt;microemu-javase-swing&lt;/artifactId&gt;
                            &lt;/inclusion&gt;
                        &lt;/inclusions&gt;
                    &lt;/assembly&gt;
                    &lt;exclusions&gt;
                        &lt;exclusion&gt;
                            &lt;groupId&gt;org.microemu&lt;/groupId&gt;&lt;artifactId&gt;microemu-midp&lt;/artifactId&gt;
                        &lt;/exclusion&gt;
                    &lt;/exclusions&gt;
                    &lt;libs&gt;
                        &lt;lib&gt;${java.home}/lib/rt.jar&lt;/lib&gt;
                        &lt;lib&gt;${java.home}/lib/jsse.jar&lt;/lib&gt;
                    &lt;/libs&gt;
                &lt;/configuration&gt;
            &lt;/plugin&gt;

        &lt;/plugins&gt;
    &lt;/build&gt;
</pre></div>
<p>Use different version of <a class="externalLink" href="http://proguard.sourceforge.net/">ProGuard</a></p>
<div>
<pre>    &lt;build&gt;
        &lt;plugins&gt;
            &lt;plugin&gt;
                &lt;groupId&gt;com.github.wvengen&lt;/groupId&gt;
                &lt;artifactId&gt;proguard-maven-plugin&lt;/artifactId&gt;
                &lt;executions&gt;
                   &lt;execution&gt;
                       &lt;phase&gt;package&lt;/phase&gt;
                       &lt;goals&gt;&lt;goal&gt;proguard&lt;/goal&gt;&lt;/goals&gt;
                   &lt;/execution&gt;
                &lt;/executions&gt;
                &lt;configuration&gt;
                    &lt;proguardVersion&gt;4.5&lt;/proguardVersion&gt;
                    &lt;libs&gt;
                        &lt;lib&gt;${java.home}/lib/rt.jar&lt;/lib&gt;
                    &lt;/libs&gt;
                &lt;/configuration&gt;
                &lt;dependencies&gt;
                    &lt;dependency&gt;
                        &lt;groupId&gt;net.sf.proguard&lt;/groupId&gt;
                        &lt;artifactId&gt;proguard-base&lt;/artifactId&gt;
                        &lt;version&gt;4.5&lt;/version&gt;
                        &lt;scope&gt;runtime&lt;/scope&gt;
                    &lt;/dependency&gt;
                &lt;/dependencies&gt;
            &lt;/plugin&gt;
        &lt;/plugins&gt;
    &lt;/build&gt;
</pre></div></section></section>
      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">
        Copyright &#169;      2025..      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
